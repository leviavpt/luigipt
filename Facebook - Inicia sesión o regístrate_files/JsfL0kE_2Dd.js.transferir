;/*FB_PKG_DELIM*/

__d("ConfirmationDialog",["Event","FBBrowserPasswordEncryption","Form","Keys","Parent","ge","promiseDone"],(function(a,b,c,d,e,f,g){var h={},i={},j={register:function(a,b,c,d){c===void 0&&(c="confirmed"),h[a]=b,i[a]=c,i.pub_key_data=d},setupConfirmation:function(a,b,e){e===void 0&&(e=!1);var f=a.getPayload().__dialogID,g=h[f],k=!1,l=g.subscribe(["confirm","cancel","hide"],function(d){if(d==="confirm"){j._encryptAndSend(function(){var a={};a[i[f]]=1;i.encrypted_password!==void 0&&(a.ajax_password=i.encrypted_password);Object.assign(b.data,c("Form").serialize(g.getRoot()),a);b.send();g.hide();k=!0});return}if(d==="cancel"||d==="hide"&&!k){var e=b.getServerDialogCancelHandler();try{e&&e(a)}catch(a){throw a}finally{b.finallyHandler(a)}k=!0;if(d==="cancel")return}delete h[f];delete i[f];l.unsubscribe()});c("Event").listen(g.getContentRoot(),"keydown",function(a){a.keyCode===c("Keys").RETURN&&d("Parent").byTag(a.getTarget(),"input")&&g.inform("confirm")});g.show()},_encryptAndSend:function(a){var d=a.bind(self);a=i.pub_key_data;if((window.crypto||window.msCrypto)&&a){var e=c("ge")("ajax_password").value,f=b("FBBrowserPasswordEncryption"),g=Math.floor(Date.now()/1e3).toString();c("promiseDone")(f.encryptPassword(a.keyId,a.publicKey,e,g),function(a){i.encrypted_password=a,d()})}else d()}};a=j;g["default"]=a}),98);
__d("PasswordReauthBarrierDialog",["Arbiter"],(function(a,b,c,d,e,f){a={subscribe:function(a){var c=!1;a.subscribe(["confirm","hide"],function(a){a=="confirm"?c=!0:c||b("Arbiter").inform("PasswordReauthDialogCancelClick")})}};e.exports=a}),null);
__d("RegistrationDialog",["Event","Run","SubscriptionsHandler","ge"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=new(c("SubscriptionsHandler"))(),e=a.spotlight,f=a.closeButton,g=c("ge")("email"),h=c("ge")("pass");g.disabled=!0;h.disabled=!0;b.addSubscriptions(c("Event").listen(f,"click",function(){return e.hide()}),d("Run").onLeave(function(){return e.hide()}),e.subscribe("hide",function(){a.triggerElementId==null&&b.release(),g.disabled=!1,h.disabled=!1}));a.triggerElementId!=null&&c("Event").listen(a.triggerElementId,"click",function(a){a.preventDefault(),e.show()})}g.init=a}),98);